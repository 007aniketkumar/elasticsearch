[[breaking-changes-2.2]]
== Breaking changes in 2.2

This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 2.2.

[float]
=== Scripting and security

The Java Security Manager is being used to lock down the privileges available
to the scripting languages and to restrict the classes they are allowed to
load to a predefined whitelist.  These changes may cause scripts which worked
in earlier versions to fail.  See <<modules-scripting-security>> for more
details.

[float]
=== Field stats API

The field stats' response format has been changed for number based and date
fields. The `min_value` and `max_value` elements now return values as number
and the new `min_value_as_string` and `max_value_as_string` return the values
as string.

[float]
=== Cloud AWS Plugin

Proxy settings have been deprecated and renamed:

* from `cloud.aws.proxy_host` to `cloud.aws.proxy.host`
* from `cloud.aws.ec2.proxy_host` to `cloud.aws.ec2.proxy.host`
* from `cloud.aws.s3.proxy_host` to `cloud.aws.s3.proxy.host`
* from `cloud.aws.proxy_port` to `cloud.aws.proxy.port`
* from `cloud.aws.ec2.proxy_port` to `cloud.aws.ec2.proxy.port`
* from `cloud.aws.s3.proxy_port` to `cloud.aws.s3.proxy.port`

If you are using proxy settings, update your settings as deprecated ones will
be removed in next major version.

[float]
=== Multicast plugin deprecated

The `discovery-multicast` plugin has been deprecated in 2.2.0 and has
been removed in 3.0.0.
