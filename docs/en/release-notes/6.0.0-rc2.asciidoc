[role="xpack"]
[[xes-6.0.0-rc2]]
== {es} {xpack} 6.0.0-rc2 Release Notes


[[xes-enhancement-6.0.0-rc2]]
[float]
=== Enhancements

Machine Learning::
* Added the `xpack.ml.max_model_memory_limit` setting, which can be dynamically
updated. For more information, see <<ml-settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2503[#2503] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2462[#2462])
// https://github.com/elastic/x-pack-elasticsearch/pull/2460[#2460]
* Added checks and error messages for the `ml.enabled` and `ml.max_open_jobs`
node attributes. These are reserved for internal use and their values should be
set by using `xpack.ml.enabled` and `xpack.ml.max_open_jobs`
<<ml-settings,{ml} settings>>.
// https://github.com/elastic/x-pack-elasticsearch/pull/2725[#2725] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2649[#2649])
* Improved modeling of long periodic components, particularly when there is a
long bucket span.
// https://github.com/elastic/machine-learning-cpp/pull/298[#298] (issue: https://github.com/elastic/machine-learning-cpp/issues/272[#272])
////
Monitoring::
* [Monitoring] Cleaner Service should be able to cleanup .watcher-history*
// https://github.com/elastic/x-pack-elasticsearch/pull/2696[#2696] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/1337[#1337])
* [Monitoring] Clean .watcher-history-* indices by default in 6.0+ [OPEN]
// https://github.com/elastic/x-pack-elasticsearch/pull/2720[#2720] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/1337[#1337])
* [Monitoring] Remove MonitoringSettings
// https://github.com/elastic/x-pack-elasticsearch/pull/2596[#2596]
////
////
Security::
* [Security] Improve error messages in setup-passwords
// https://github.com/elastic/x-pack-elasticsearch/pull/2724[#2724]
* Add transport ssl enabled value back to security usage
// https://github.com/elastic/x-pack-elasticsearch/pull/2695[#2695]
////
////
Watcher::
* Watcher: Ensure all templates exist before starting watcher
// https://github.com/elastic/x-pack-elasticsearch/pull/2765[#2765] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2761[#2761])
////

[[xes-bug-6.0.0-rc2]]
[float]
=== Bug fixes

Machine Learning::
* Fixed a scenario where models were incorrectly combined. This problem occurred
when anomaly detectors were considered to be the same despite having different
partition field values.
// https://github.com/elastic/machine-learning-cpp/pull/323[#323]
//* [ML] Tolerate a body without timestamp for get_buckets with a timestamp
//OMIT: Already in 5.6.3:
//https://github.com/elastic/x-pack-elasticsearch/pull/2640[#2640] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2515[#2515])
* Cleaned up the job closure process for situations where the job was still in
the process of opening.
// https://github.com/elastic/x-pack-elasticsearch/pull/2616[#2616] (issues: https://github.com/elastic/x-pack-elasticsearch/issues/1270[#1270], https://github.com/elastic/x-pack-elasticsearch/issues/2360[#2360])
////
Security::
* [Security] BulkShardRequest may have multiple indices [OPEN]
// https://github.com/elastic/x-pack-elasticsearch/pull/2742[#2742] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2741[#2741])
* Security: do not fail request for roles when security index is out date [OPEN]
// https://github.com/elastic/x-pack-elasticsearch/pull/2717[#2717] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2686[#2686])
* Allow PkiRealm to use truststore.password setting
// https://github.com/elastic/x-pack-elasticsearch/pull/2727[#2727] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2487[#2487])
* Always allow access to a rootdoc's nested documents if access to rootdoc is allowed
// https://github.com/elastic/x-pack-elasticsearch/pull/2723[#2723] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2665[#2665])
* [Security] Support "type" field in role-mappings
// https://github.com/elastic/x-pack-elasticsearch/pull/2681[#2681] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2678[#2678])
* Fix LDAP Authc connections deadlock
// https://github.com/elastic/x-pack-elasticsearch/pull/2587[#2587] (issue: https://github.com/elastic/x-pack-elasticsearch/issues/2570[#2570])
////
////
See also:

* <<release-notes-6.0.0-rc2,{es} 6.0.0-rc2 Release Notes>>
* {logstash-ref}/xls-6.0.0-rc2.html[Logstash {xpack} 6.0.0-rc2 Release Notes]
////
